# Заглушки в проекте EcoChain Web3 платформы

## Описание

В проекте EcoChain Web3 платформы есть несколько мест, где используются заглушки (mock-данные или заглушки функций), которые в дальнейшем нужно будет заменить на реальные реализации.

## API заглушки

### 1. Mock-данные
- **Файл**: `src/lib/mockData.ts`
- **Описание**: Содержит тестовые данные для токенов, которые используются в приложении до подключения к реальному API
- **Содержит**:
  - `mockTokens`: Массив фиктивных токенов
  - `mockTokenDetail`: Детальная информация о фиктивном токене
  - `myMockTokens`: Мои фиктивные токены
  - `mockUser`: Данные фиктивного пользователя

### 2. Web3 хуки
- **Файл**: `src/hooks/web3/useWallet.ts`
- **Описание**: Хук для подключения кошелька Web3, который в текущей реализации использует фиктивное подключение
- **Заглушки**:
  - `connectWallet`: Вместо реального подключения к Web3 провайдеру, использует таймер и возвращает фиктивные данные пользователя
  - Обработка ошибок: Реальные ошибки Web3 заменены на фиктивные

- **Файл**: `src/hooks/web3/useTokenContract.ts`
- **Описание**: Хук для взаимодействия с контрактами токенов, в котором все функции используют фиктивные реализации
- **Заглушки**:
  - `createToken`: Вместо создания реального токена на блокчейне, использует таймер
  - `addLiquidity`: Вместо добавления реальной ликвидности, использует таймер
  - `buyToken` и `sellToken`: Вместо реальных транзакций, используют таймеры

### 3. API клиент
- **Файл**: `src/lib/api/client.ts`
- **Описание**: Клиент для работы с API, который в текущей реализации может использовать mock-сервер
- **Заглушки**:
  - Базовый URL может быть настроен на mock-сервер вместо реального API

## Backend заглушки

### 1. API Mock сервер
- **Файл**: `api-docs/mock-server.js`
- **Описание**: Node.js сервер, который предоставляет фиктивные данные API для разработки
- **Реализованные эндпоинты**:
  - GET /v1/tokens: Возвращает список фиктивных токенов
  - GET /v1/tokens/:id: Возвращает фиктивный токен по ID
  - POST /v1/tokens: Создает фиктивный токен
  - POST /v1/tokens/:id/liquidity: Добавляет фиктивную ликвидность
  - POST /v1/wallet/connect: Подключает фиктивный кошелек
  - GET /v1/users/me/tokens: Возвращает фиктивные токены пользователя

## Как заменить заглушки

### 1. Замена mock-данных
1. В файлах, где используются `mockTokens`, замените импорт на вызовы реального API
2. Используйте API клиент из `src/lib/api/client.ts` для получения реальных данных
3. Удалите или закомментируйте `src/lib/mockData.ts`, если не будет использоваться в продакшене

### 2. Замена Web3 хуков
1. В `useWallet.ts`:
   - Замените фиктивное подключение на реальное подключение к Web3 провайдеру (MetaMask, WalletConnect и т.д.)
   - Добавьте реальную логику аутентификации
   - Удалите таймеры и фиктивные данные

2. В `useTokenContract.ts`:
   - Добавьте реальное подключение к Web3 и смарт-контрактам
   - Замените фиктивные вызовы на реальные транзакции
   - Добавьте обработку газа, комиссий и других параметров блокчейна

### 3. Использование реального API
1. В `vite.config.ts` или `.env` укажите реальный URL API
2. Используйте API клиент из `src/lib/api/client.ts` для всех запросов к серверу
3. Убедитесь, что все эндпоинты в OpenAPI спецификации (`api-docs/openapi.yaml`) соответствуют реальной реализации сервера

## Файлы OpenAPI спецификации

- **Файл**: `api-docs/openapi.yaml`
- **Описание**: Полная спецификация API, которая служит контрактом между фронтендом и бэкендом
- **Использование**: При разработке реального бэкенда, разработчики должны следовать этой спецификации

## Запуск mock-сервера

Для запуска mock-сервера используйте команду:
```bash
node api-docs/mock-server.js
```

Mock-сервер будет доступен по адресу http://localhost:3000/v1

## Генерация API типов

Для генерации TypeScript типов из OpenAPI спецификации используйте команду:
```bash
npm run generate:api-types
```

Это создаст файл `src/types/api.ts` с типами, основанными на OpenAPI спецификации.