# EcoChain Web3 Платформа

## Описание проекта

EcoChain - это современная Web3 платформа для создания токенов на блокчейне X1. Платформа предоставляет пользователю возможность создавать, управлять и распределять токены без знания программирования.

## Стек технологий

- **React 19** - Библиотека для создания пользовательских интерфейсов
- **TypeScript** - Язык программирования с поддержкой типизации
- **Vite** - Быстрый инструмент сборки
- **Tailwind CSS** - Фреймворк для стилизации
- **React Router DOM** - Управление навигацией
- **Zustand** - Управление состоянием
- **i18next** - Интернационализация и локализация
- **Lucide React** - Библиотека иконок
- **Date-fns** - Работа с датами
- **Axios** - HTTP-клиент для API запросов
- **Vitest** - Фреймворк для тестирования
- **React Testing Library** - Библиотека для тестирования React компонентов
- **Storybook** - Инструмент для разработки и документации компонентов
- **OpenAPI/Swagger** - Документация API

## Архитектура проекта

### Структура папок

```
src/
├── assets/           # Статические ресурсы (изображения, иконки)
├── components/       # Переиспользуемые компоненты
│   ├── common/       # Общие компоненты (Button, Input и т.д.)
│   ├── features/     # Компоненты бизнес-логики
│   └── layout/       # Компоненты макета (шапка, навигация и т.д.)
├── hooks/            # Кастомные хуки
├── lib/              # Вспомогательные библиотеки и константы
├── locales/          # Файлы локализации
├── pages/            # Страницы приложения
├── store/            # Глобальное состояние (Zustand)
├── types/            # Типы TypeScript
├── test/             # Файлы для тестирования
├── App.tsx           # Главный компонент приложения
├── main.tsx          # Точка входа в приложение
└── index.css         # Глобальные стили
```

### Описание файлов

#### Компоненты (components/)

- **common/Button** - Общий компонент кнопки с различными вариантами отображения
- **common/Input** - Поле ввода с поддержкой меток и стилизации
- **common/Modal** - Модальное окно для показа информации и форм
- **common/Switch** - Переключатель темы (светлая/темная)
- **features/Dashboard/DashboardCard** - Карточка дашборда с различными функциями
- **features/TokenCard** - Карточка токена с отображением информации
- **layout/Header** - Основная шапка приложения с адаптивным дизайном
- **layout/DesktopHeader** - Шапка для десктопных устройств
- **layout/MobileHeader** - Шапка для мобильных устройств
- **layout/MobileMenu** - Мобильное меню навигации
- **layout/PageBackground** - Компонент фона страницы

#### Страницы (pages/)

- **AddLiquidity** - Страница добавления ликвидности к токену
- **CreateToken** - Страница создания нового токена
- **Dashboard** - Главная страница с карточками функций
- **Listing** - Страница со списком всех токенов
- **MyTokens** - Страница токенов пользователя
- **NotFound** - Страница ошибки 404
- **TokenDetail** - Страница с детальной информацией о токене

#### Состояния (store/)

- **useLanguageStore** - Управление языковыми настройками
- **useModalStore** - Управление модальными окнами
- **useThemeStore** - Управление темой (светлая/темная)
- **useTokenStore** - Управление информацией о токенах
- **useUserStore** - Управление информацией о пользователе

#### Хуки (hooks/)

- **useClickOutside** - Хук для определения клика вне элемента
- **useKeyPress** - Хук для отслеживания нажатий клавиш
- **useMediaQuery** - Хук для адаптивного дизайна
- **web3/useTokenContract** - Хук для работы с контрактами токенов (заглушка)
- **web3/useWallet** - Хук для подключения кошелька (заглушка)

#### Тесты (test/)

- **setup.ts** - Файл настройки тестов
- **Button.test.tsx** - Тесты для компонента Button
- **Input.test.tsx** - Тесты для компонента Input
- **TokenCard.test.tsx** - Тесты для компонента TokenCard
- **useTokenStore.test.ts** - Тесты для Zustand store токенов
- **useThemeStore.test.ts** - Тесты для Zustand store темы
- **useWallet.test.ts** - Тесты для хука подключения кошелька
- **useMediaQuery.test.ts** - Тесты для хука медиа-запросов

#### Документация API (api-docs/)

- **openapi.yaml** - Полная спецификация API в формате OpenAPI
- **mock-server.js** - Mock-сервер для разработки

#### Конфигурации

- **.storybook/main.ts** - Конфигурация Storybook
- **.storybook/preview.ts** - Настройки предварительного просмотра Storybook
- **vite.config.ts** - Конфигурация Vite с настройками тестирования

## Установка и запуск локально

### Предварительные требования

- Установленный [Node.js](https://nodejs.org/) (версия 18 или выше)
- Установленный [Git](https://git-scm.com/)

### Установка

1. Склонируйте репозиторий:
   ```bash
   git clone https://github.com/Sskutushev/1Xecochain.git
   cd 1Xecochain
   ```

2. Установите зависимости:
   ```bash
   npm install
   ```

3. Запустите приложение в режиме разработки:
   ```bash
   npm run dev
   ```

Приложение будет доступно по адресу http://localhost:5173

### Сборка для продакшена

Для сборки приложения в продакшн:
```bash
npm run build
```

Для локального запуска собранного приложения:
```bash
npm run serve
```

## Запуск тестов

### Запуск всех тестов
```bash
npm test
```

### Запуск тестов с интерфейсом
```bash
npm run test:ui
```

### Запуск тестов с покрытием
```bash
npm run test:coverage
```

## Запуск Storybook

Для запуска Storybook:
```bash
npm run storybook
```

Storybook будет доступен по адресу http://localhost:6006

## Генерация типов API

Для генерации TypeScript типов из OpenAPI спецификации:
```bash
npm run generate:api-types
```

## Запуск mock-сервера API

Для запуска mock-сервера API:
```bash
node api-docs/mock-server.js
```

Mock-сервер будет доступен по адресу http://localhost:3000/v1

## CI/CD Pipeline

### GitHub Actions

Проект настроен с использованием GitHub Actions:
- `.github/workflows/ci.yml` - Pipeline для проверки кода (lint, test, build)
- `.github/workflows/preview.yml` - Pipeline для деплоя preview-версии

### Pre-commit хуки

Проект использует husky и lint-staged для автоматической проверки и форматирования кода перед коммитом.

## Переменные окружения

Для работы приложения используются следующие переменные окружения:

- `VITE_API_URL` - URL для API (по умолчанию: http://localhost:3000/v1 для mock-сервера)

## Замена заглушек на реальные API

### Мок-данные

Заглушки (mock-данные) находятся в `src/lib/mockData.ts`. Их можно заменить на реальные API вызовы:

1. Замените импорт mock-данных на вызовы реального API
2. Обновите хранилища (store) для использования реальных данных
3. Используйте API клиент из `src/lib/api/client.ts`

### Использование API клиента

API клиент находится в `src/lib/api/client.ts` и предоставляет следующие методы:
- `getTokens()` - Получение списка токенов
- `getTokenById(id)` - Получение токена по ID
- `createToken(data)` - Создание нового токена
- `addLiquidity(id, data)` - Добавление ликвидности
- `connectWallet(data)` - Подключение кошелька
- `getMyTokens()` - Получение токенов пользователя

## Локализация

Приложение поддерживает русский и английский языки:

- Файлы локализации находятся в `src/locales/`
- Русский: `src/locales/ru/translation.json`
- Английский: `src/locales/en/translation.json`

Для добавления новых языков:
1. Добавьте новый файл в `src/locales/`
2. Обновите `src/lib/i18n.ts` с новым языком

## Стилизация и кастомизация

Проект использует Tailwind CSS для стилизации:

- Конфигурация Tailwind находится в `tailwind.config.js`
- Глобальные стили в `src/index.css`
- Кастомные классы можно добавить в `src/App.css`

## Управление состоянием

Проект использует Zustand для управления состоянием:

- Хранилища находятся в `src/store/`
- Глобальные данные (пользователи, токены, настройки) управляются через Zustand
- Все хранилища имеют типизацию через TypeScript

## Права и контактная информация

Автор реализации: Кутушев Сергей
Телеграм: @sskutushev
Email: sskutushev@gmail.com

## Статус проекта

Проект полностью готов к интеграции с бэкендом и Web3 функциональностью:
- Настроен Vitest + React Testing Library для надежного тестирования
- Реализован CI/CD pipeline для автоматизации процессов
- Создана полная API документация в формате OpenAPI
- Разработан mock-сервер для упрощения разработки
- Подготовлены все необходимые заглушки для интеграции